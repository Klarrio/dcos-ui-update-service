FROM golang:1.11.3

RUN apt-get update && apt-get install -y curl vim python-pip groff && \
    pip install --upgrade awscli

RUN go get -u github.com/alecthomas/gometalinter github.com/t-yuki/gocover-cobertura github.com/ivpusic/rerun
RUN gometalinter --install

RUN mkdir -p /run/dcos

ADD . /src
WORKDIR /src

COPY go.mod .
COPY go.sum .

RUN go mod download
RUN go build .
EXPOSE 5000
